<ion-content fullscreen>
    <ion-toolbar translucent>
        <ion-buttons slot="end" margin-right>
            <ion-button color="light" (click)="presentMoreOptions($event)">
                <ion-icon slot="icon-only" name="more"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>

    <div class="login-form-wrapper">
        <div class="login-logo">
            <ion-img src="assets/img/Logo_OpenDJ_256.png" alt="OpenDJ logo"></ion-img>
        </div>
        <form [formGroup]="loginForm">

            <ion-list no-lines style="background: transparent !important;">
                <ion-item lines="none">
                    <p text-wrap text-center style="color: #bbbbbb;">
                        Welcome to the OpenDJ Event {{currentEvent?.name}} of {{currentEvent?.owner}}!<br/> We would like to know who you are, please enter a name. Of course, you can stay anonymous and use any alias. Click the magic wand to generate one.
                    </p>
                </ion-item>
                <ion-item lines="none">
                    <ion-input formControlName="username" type="text" clearInput="true" autofocus="true" placeholder="Username">
                    </ion-input>
                    <ion-note slot="end">
                        <ion-button (tap)="generateUsername()" shape="round" color="primary" size="small">
                            <ion-icon name="color-wand"></ion-icon>
                        </ion-button>
                    </ion-note>
                </ion-item>

                <ion-item *ngIf="!loginForm.controls.username.valid  && submitAttempt">
                    <p style="color: red;">Minimum length for username is 3.</p>
                </ion-item>
                <ion-button text-center (tap)="loginAction()" shape="round" type="submit" color="primary" expand="full" fill="outline">
                    Join Event
                </ion-button>
            </ion-list>

        </form>
    </div>

</ion-content>