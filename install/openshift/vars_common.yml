
# Common variables
# HEADS UP: Due to limitation of variable parsing, you cant
# use a variable defined here also in this file.
# So certain values might occur redudant! 
# Be sure to search for them and replace ALL occurences!
common:
  COMMON:
    NAMESPACE: "dfroehli-opendj-{{STAGE | mandatory}}"
# Remember to change Callback URL below, too:
    DNS_BASENAME: "{{STAGE}}.opendj.io"
    GIT:
      REF: "master"
    CONTAINER_IMAGE_BUILD: true
    CONTAINER_IMAGE_TAG: "latest"
    CONTAINER_IMAGE_FROM_NAMESPACE: "dfroehli-opendj-{{STAGE}}"

  BACKEND_EVENTSTORE:
    KAFKA:
      USE: false
      OPERATOR_AVAILABLE: true
      TOPIC_CMD:  oc --namespace dfroehli-opendj-{{STAGE}} rsh backend-eventstore-zookeeper-0 /opt/kafka/bin/kafka-topics.sh --zookeeper localhost:21810 
      NUM_BROKERS: 1
      NUM_ZOOKEPERS: 1
      NUM_PARTITIONS: 3
  BACKEND_DATAGRID:
    URL: "backend-datagrid:11222"
    UNDEPLOY: false
    NUM_REPLICAS: 2
    LIMIT_MEMORY: "512Mi"
    STORAGE_SIZE: "1Gi"



  PROVIDER_SPOTIFY:
    SPOTIFY_CALLBACK_URL: "http://{{STAGE}}.opendj.io/api/provider-spotify/v1/auth_callback"
    SPOTIFY_CLIENT_ID: "{{VAULT_SPOTIFY_CLIENT_ID}}"
    SPOTIFY_CLIENT_SECRET: "{{VAULT_SPOTIFY_CLIENT_SECRET}}"

  FRONTEND_WEB:
# Do not specific host - use relative hostname to allow switch between http/https:  
    WEBSOCKET_HOST: ""
    INSECURE_EDGE_TERMINATION: "Allow"
    SPOTIFY_CALLBACK_URL: "http://{{STAGE}}.opendj.io/api/provider-spotify/v1/auth_callback"